(this["webpackJsonpmenita-rh-app"]=this["webpackJsonpmenita-rh-app"]||[]).push([[0],{157:function(e,t,a){},158:function(e,t,a){"use strict";a.r(t);var n=a(2),c=a(21),r=a.n(c),i=a(7),s=a(19),o=a(50),l=a(33),m=a(5),j="[Empleados] Crear Empleado",d="[Empleados] Cargar Empleados",b="[Empleados] Actualizar Empleado",u="[Empleados] Eliminar Empleado",h={empleados:[]},p="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||s.c,O=Object(s.b)({workers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case j:return Object(m.a)(Object(m.a)({},e),{},{empleados:[].concat(Object(l.a)(e.empleados),[t.payload])});case d:return Object(m.a)(Object(m.a)({},e),{},{empleados:Object(l.a)(t.payload)});case b:return Object(m.a)(Object(m.a)({},e),{},{empleados:e.empleados.map((function(e){return e.rfc===t.payload.rfc?t.payload.empleado:e}))});case u:return Object(m.a)(Object(m.a)({},e),{},{empleados:e.empleados.filter((function(e){return e.rfc!==t.payload}))});default:return e}}}),_=Object(s.d)(O,p(Object(s.a)(o.a))),x=a(11),f=a(4),v=a(1),g=function(){return Object(v.jsxs)("nav",{className:"navbar",children:[Object(v.jsx)(x.b,{to:"/menita-rh/homepage",className:"navbar__logo",children:"Menita-RH"}),Object(v.jsxs)("div",{className:"navbar__links",children:[Object(v.jsx)(x.c,{className:"navbar__links__link",exact:!0,to:"/menita-rh/create-emp",children:"Nuevo empleado"}),Object(v.jsx)(x.c,{className:"navbar__links__link",exact:!0,to:"/menita-rh/list-emp",children:"Lista de empleados"})]})]})},N=a(14),y=a(12),C=a.n(y),E=a(6),S=a.n(E),L=a(23),R=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(n.useState)(e),a=Object(N.a)(t,2),c=a[0],r=a[1],i=function(){r(e)},s=function(e){r(Object(m.a)(Object(m.a)({},c),{},Object(L.a)({},e.target.name,e.target.value)))};return[c,s,i]},k=JSON.parse(localStorage.getItem("empleados"))||[],w=function(e){return function(t){k=k.filter((function(t){return t.rfc!==e})),localStorage.setItem("empleados",JSON.stringify(k)),t(I(e))}},D=function(e){return{type:j,payload:e}},F=function(e){return{type:d,payload:e}},I=function(e){return{type:u,payload:e}},A=function(e,t){return{type:b,payload:{rfc:e,empleado:Object(m.a)({rfc:e},t)}}},z=function(){var e=Object(f.g)(),t=Object(i.b)(),a=R({nombre:"",rfc:"",fecha:"",departamento:"Recursos Humanos",sueldo:100,status:"Activo"}),n=Object(N.a)(a,3),c=n[0],r=n[1],s=n[2],o=c.nombre,l=c.rfc,m=c.fecha,j=c.departamento,d=c.sueldo,b=c.status,u=function(){return C.a.isEmpty(o)||void 0===o?(S.a.fire("Error","Debe ingresar un nombre.","error"),!1):C.a.isEmpty(l)?(S.a.fire("Error","Debe ingresar un RFC.","error"),!1):C.a.isEmpty(m)||C.a.isAfter(m,"2013-11-20")?(S.a.fire("Error","Debe ingresar una fecha. Y s\xf3lo puede registrar empleados mayores de edad.","error"),!1):!(d<=0||d>999999)||(S.a.fire("Error","El empleado debe tener un sueldo no mayor a $999,999","error"),!1)};return Object(v.jsx)("div",{className:"create__main",children:Object(v.jsxs)("form",{onSubmit:function(a){var n;a.preventDefault(),u()&&(t((n=c,function(e){k.push(n),localStorage.setItem("empleados",JSON.stringify(k)),e(D(n))})),s(),e.push("/menita-rh/list-emp"),S.a.fire("Empleado agregado","El empleado se ha registrado correctamente.","success"))},className:"create__main__form",children:[Object(v.jsxs)("div",{className:"create__main__form__element",children:[Object(v.jsx)("i",{children:"Nombre"}),Object(v.jsx)("input",{type:"text",name:"nombre",placeholder:"Nombre (M\xednimo 3 car\xe1cteres)",autoComplete:"off",minLength:"3",maxLength:"50",value:o,onChange:r})]}),Object(v.jsxs)("div",{className:"create__main__form__element",children:[Object(v.jsx)("i",{children:"RFC"}),Object(v.jsx)("input",{type:"text",name:"rfc",placeholder:"RFC (19 car\xe1cteres)",autoComplete:"off",minLength:"19",maxLength:"19",value:l,onChange:r})]}),Object(v.jsxs)("div",{className:"create__main__form__element",children:[Object(v.jsx)("i",{children:"Fecha de nacimiento (s\xf3lo mayores de edad)"}),Object(v.jsx)("input",{type:"date",name:"fecha",value:m,onChange:r})]}),Object(v.jsxs)("div",{className:"create__main__form__element",children:[Object(v.jsx)("i",{children:"Departamento"}),Object(v.jsxs)("select",{name:"departamento",value:j,onChange:r,children:[Object(v.jsx)("option",{value:"Recursos humanos",children:"Recursos Humanos"}),Object(v.jsx)("option",{value:"Sistemas",children:"Sistemas"}),Object(v.jsx)("option",{value:"Contabilidad",children:"Contabilidad"}),Object(v.jsx)("option",{value:"Credito y Cobranza",children:"Credito y Cobranza"}),Object(v.jsx)("option",{value:"N\xf3mina",children:"N\xf3mina"}),Object(v.jsx)("option",{value:"Legal",children:"Legal"})]})]}),Object(v.jsxs)("div",{className:"create__main__form__element",children:[Object(v.jsx)("i",{children:"Status (S\xed actualmente trabaaja para la empresa)"}),Object(v.jsxs)("select",{name:"status",value:b,onChange:r,children:[Object(v.jsx)("option",{value:"Activo",children:"Activo"}),Object(v.jsx)("option",{value:"Inactivo",children:"Inactivo"})]})]}),Object(v.jsxs)("div",{className:"create__main__form__element",children:[Object(v.jsx)("i",{children:"Sueldo ($1 - $999999)"}),Object(v.jsx)("input",{type:"number",name:"sueldo",placeholder:"Sueldo",autoComplete:"off",value:d,onChange:r})]}),Object(v.jsx)("button",{type:"submit",children:"A\xf1adir empleado"})]})})},$=a(52),H=a(13),J=function(){var e=Object(f.g)();return Object(v.jsxs)("div",{className:"home__main",children:[Object(v.jsxs)("div",{className:"home__main__element",onClick:function(){e.push("/menita-rh/create-emp")},children:[Object(v.jsx)($.a,{className:"home__main__element__icon"}),Object(v.jsx)("h1",{children:"A\xf1adir nuevo empleado"})]}),Object(v.jsxs)("div",{className:"home__main__element",onClick:function(){e.push("/menita-rh/list-emp")},children:[Object(v.jsx)(H.c,{className:"home__main__element__icon"}),Object(v.jsx)("h1",{children:"Ver lista de empleados"})]})]})},B=a(24),q=function(e){var t=e.nombre,a=e.rfc,n=e.departamento,c=e.status,r=Object(f.g)(),s=Object(i.b)();return Object(v.jsxs)("tr",{children:[Object(v.jsx)("td",{children:Object(v.jsx)(x.b,{to:"/menita-rh/employee/".concat(a),className:"tableLink",children:t})}),Object(v.jsx)("td",{children:n}),Object(v.jsx)("td",{children:c}),Object(v.jsx)("td",{children:Object(v.jsx)(x.b,{to:"/menita-rh/edit-emp/".concat(a),className:"tableLink",children:Object(v.jsx)("button",{className:"ListEmp__main__table__edit",children:Object(v.jsx)(H.b,{})})})}),Object(v.jsx)("td",{children:Object(v.jsx)("button",{className:"ListEmp__main__table__delete",onClick:function(){"Inactivo"===c?S.a.fire({title:"\xbfSeguro quieres dar de baja este empleado?",showCancelButton:!0,confirmButtonText:"Eliminar"}).then((function(e){e.isConfirmed&&(r.replace("/menita-rh/home"),s(w(a)),S.a.fire("Empleado Eliminado","El empleado ".concat(t," ha sido eliminado correctamente."),"success"))})):S.a.fire("Eliminaci\xf3n fallida","No es posible eliminar a un usuario que aun trabaje para la empresa. Si ".concat(t," ya no forma parte de la empresa, favor de editar su registro [Status]"),"warning")},children:Object(v.jsx)(B.a,{})})})]})},M=function(){var e=Object(i.c)((function(e){return e.workers})).empleados,t=Object(n.useState)(e),a=Object(N.a)(t,2),c=a[0],r=a[1],s=Object(n.useState)({dep:"",stat:""}),o=Object(N.a)(s,2),l=o[0],j=o[1];return Object(n.useEffect)((function(){""===l.dep&&""===l.stat?r(e):""!==l.dep&&""===l.stat?r(e.filter((function(e){return e.departamento===l.dep}))):""===l.dep&&""!==l.stat?r(e.filter((function(e){return e.status===l.stat}))):""!==l.dep&&""!==l.stat&&r(e.filter((function(e){return e.departamento===l.dep&&e.status===l.stat})))}),[l]),Object(v.jsxs)("div",{className:"ListEmp__main",children:[Object(v.jsxs)("div",{className:"ListEmp__filters",children:[Object(v.jsxs)("div",{children:[Object(v.jsxs)("p",{children:[Object(v.jsx)(H.a,{}),"Departamento"]}),Object(v.jsxs)("select",{name:"departamento",onChange:function(e){return j(Object(m.a)(Object(m.a)({},l),{},{dep:e.target.value}))},children:[Object(v.jsx)("option",{value:"",children:"*"}),Object(v.jsx)("option",{value:"Recursos Humanos",children:"Recursos Humanos"}),Object(v.jsx)("option",{value:"Sistemas",children:"Sistemas"}),Object(v.jsx)("option",{value:"Contabilidad",children:"Contabilidad"}),Object(v.jsx)("option",{value:"Credito y Cobranza",children:"Credito y Cobranza"}),Object(v.jsx)("option",{value:"N\xf3mina",children:"N\xf3mina"}),Object(v.jsx)("option",{value:"Legal",children:"Legal"})]})]}),Object(v.jsxs)("div",{children:[Object(v.jsxs)("p",{children:[Object(v.jsx)(H.a,{}),"Status"]}),Object(v.jsxs)("select",{name:"status",onChange:function(e){return j(Object(m.a)(Object(m.a)({},l),{},{stat:e.target.value}))},children:[Object(v.jsx)("option",{value:"",children:"*"}),Object(v.jsx)("option",{value:"Activo",children:"Activo"}),Object(v.jsx)("option",{value:"Inactivo",children:"Inactivo"})]})]})]}),Object(v.jsxs)("table",{className:"ListEmp__main__table",children:[Object(v.jsx)("thead",{children:Object(v.jsxs)("tr",{children:[Object(v.jsx)("th",{children:"Nombre"}),Object(v.jsx)("th",{children:"Departamento"}),Object(v.jsx)("th",{children:"Status"}),Object(v.jsx)("th",{}),Object(v.jsx)("th",{})]})}),Object(v.jsx)("tbody",{children:c.map((function(e){return Object(v.jsx)(q,Object(m.a)({},e),e.rfc)}))})]})]})},T=function(e,t){return e.find((function(e){return e.rfc===t}))},P=function(){var e=Object(f.g)(),t=Object(i.b)(),a=Object(i.c)((function(e){return e.workers})).empleados,n=Object(f.h)().empRFC,c=T(a,n);if(!c)return Object(v.jsx)(f.a,{to:"/menita-rh/list-emp"});return Object(v.jsxs)("div",{className:"employee__main",children:[Object(v.jsxs)("div",{className:"employee__main__card",children:[Object(v.jsx)("div",{className:"employee__main__card__img",children:Object(v.jsx)("img",{src:"https://cdn-icons-png.flaticon.com/512/432/432693.png",alt:"cardPhoto"})}),Object(v.jsxs)("div",{className:"employee__main__card__info",children:[Object(v.jsx)("i",{children:"Nombre"}),Object(v.jsx)("h2",{children:c.nombre}),Object(v.jsx)("i",{children:"Fecha de Nacimiento"}),Object(v.jsx)("h2",{children:c.fecha}),Object(v.jsx)("i",{children:"RFC"}),Object(v.jsx)("h2",{children:c.rfc}),Object(v.jsx)("i",{children:"Departamento"}),Object(v.jsx)("h2",{children:c.departamento}),Object(v.jsx)("i",{children:"Sueldo"}),Object(v.jsxs)("h2",{children:["$ ",c.sueldo," / mes"]}),Object(v.jsx)("i",{children:"Status de empleado"}),Object(v.jsx)("h2",{children:c.status})]})]}),Object(v.jsxs)("div",{className:"employee__main__buttons",children:[Object(v.jsx)(x.b,{to:"/menita-rh/edit-emp/".concat(c.rfc),children:Object(v.jsxs)("button",{className:"employee__main__buttons__edit",children:["Editar ",Object(v.jsx)(H.b,{})]})}),Object(v.jsxs)("button",{className:"employee__main__buttons__delete",onClick:function(){"Inactivo"===c.status?S.a.fire({title:"\xbfSeguro quieres dar de baja este empleado?",showCancelButton:!0,confirmButtonText:"Eliminar"}).then((function(a){a.isConfirmed&&(e.replace("/menita-rh/list-emp"),t(w(c.rfc)),S.a.fire("Empleado Eliminado","El empleado ".concat(c.nombre," ha sido eliminado correctamente."),"success"))})):S.a.fire("Eliminaci\xf3n fallida","No es posible eliminar a un usuario que aun trabaje para la empresa. Si ".concat(c.nombre," ya no forma parte de la empresa, favor de editar su registro [Status]"),"warning")},children:["Eliminar ",Object(v.jsx)(B.a,{})]})]})]})},V=function(){var e=Object(f.g)(),t=Object(i.b)(),a=Object(i.c)((function(e){return e.workers})).empleados,n=Object(f.h)().empRFC,c=T(a,n),r=R({nombre:c.nombre,rfc:c.rfc,fecha:c.fecha,departamento:c.departamento,sueldo:c.sueldo,status:c.status}),s=Object(N.a)(r,3),o=s[0],l=s[1],m=s[2],j=o.nombre,d=o.rfc,b=o.fecha,u=o.departamento,h=o.sueldo,p=o.status,O=function(){return C.a.isEmpty(j)||void 0===j?(S.a.fire("Error","Debe ingresar un nombre.","error"),!1):C.a.isEmpty(d)?(S.a.fire("Error","Debe ingresar un RFC.","error"),!1):C.a.isEmpty(b)||C.a.isAfter(b,"2013-11-20")?(S.a.fire("Error","Debe ingresar una fecha. Y s\xf3lo puede registrar empleados mayores de edad.","error"),!1):!(h<=0||h>999999)||(S.a.fire("Error","El empleado debe tener un sueldo no mayor a $999,999","error"),!1)};return Object(v.jsxs)("div",{className:"create__main",children:[Object(v.jsxs)("h2",{children:["Empleado: ",c.nombre]}),Object(v.jsxs)("form",{onSubmit:function(a){a.preventDefault(),O()&&(t(function(e,t){return function(a){k=k.map((function(a){return a.rfc===e?a=t:a})),localStorage.setItem("empleados",JSON.stringify(k)),a(A(e,t))}}(c.rfc,o)),m(),e.replace("/menita-rh/employee/".concat(d)),S.a.fire("Empleado actualizado","El empleado se ha actualizado correctamente.","success"))},className:"create__main__form",children:[Object(v.jsxs)("div",{className:"create__main__form__element",children:[Object(v.jsx)("i",{children:"Nombre"}),Object(v.jsx)("input",{type:"text",name:"nombre",placeholder:"Nombre (M\xednimo 3 car\xe1cteres)",autoComplete:"off",minLength:"3",maxLength:"50",value:j,onChange:l})]}),Object(v.jsxs)("div",{className:"create__main__form__element",children:[Object(v.jsx)("i",{children:"RFC"}),Object(v.jsx)("input",{type:"text",name:"rfc",placeholder:"RFC (19 car\xe1cteres)",autoComplete:"off",minLength:"19",maxLength:"19",value:d,onChange:l})]}),Object(v.jsxs)("div",{className:"create__main__form__element",children:[Object(v.jsx)("i",{children:"Fecha de nacimiento (s\xf3lo mayores de edad)"}),Object(v.jsx)("input",{type:"date",name:"fecha",value:b,onChange:l})]}),Object(v.jsxs)("div",{className:"create__main__form__element",children:[Object(v.jsx)("i",{children:"Departamento"}),Object(v.jsxs)("select",{name:"departamento",value:u,onChange:l,children:[Object(v.jsx)("option",{value:"Recursos humanos",children:"Recursos Humanos"}),Object(v.jsx)("option",{value:"Sistemas",children:"Sistemas"}),Object(v.jsx)("option",{value:"Contabilidad",children:"Contabilidad"}),Object(v.jsx)("option",{value:"Credito y Cobranza",children:"Credito y Cobranza"}),Object(v.jsx)("option",{value:"N\xf3mina",children:"N\xf3mina"}),Object(v.jsx)("option",{value:"Legal",children:"Legal"})]})]}),Object(v.jsxs)("div",{className:"create__main__form__element",children:[Object(v.jsx)("i",{children:"Status (S\xed actualmente trabaaja para la empresa)"}),Object(v.jsxs)("select",{name:"status",value:p,onChange:l,children:[Object(v.jsx)("option",{value:"Activo",children:"Activo"}),Object(v.jsx)("option",{value:"Inactivo",children:"Inactivo"})]})]}),Object(v.jsxs)("div",{className:"create__main__form__element",children:[Object(v.jsx)("i",{children:"Sueldo ($1 - $999999)"}),Object(v.jsx)("input",{type:"number",name:"sueldo",placeholder:"Sueldo",autoComplete:"off",value:h,onChange:l})]}),Object(v.jsx)("button",{type:"submit",children:"A\xf1adir empleado"})]})]})},X=function(){return Object(i.b)()((function(e){e(F(k))})),Object(v.jsxs)(x.a,{children:[Object(v.jsx)(g,{}),Object(v.jsxs)(f.d,{children:[Object(v.jsx)(f.b,{exact:!0,path:"/menita-rh/home",component:J}),Object(v.jsx)(f.b,{exact:!0,path:"/menita-rh/create-emp",component:z}),Object(v.jsx)(f.b,{exact:!0,path:"/menita-rh/list-emp",component:M}),Object(v.jsx)(f.b,{exact:!0,path:"/menita-rh/employee/:empRFC",component:P}),Object(v.jsx)(f.b,{exact:!0,path:"/menita-rh/edit-emp/:empRFC",component:V}),Object(v.jsx)(f.a,{to:"/menita-rh/home"})]})]})},Y=function(){return Object(v.jsx)(i.a,{store:_,children:Object(v.jsx)(X,{})})};a(157);r.a.render(Object(v.jsx)(Y,{}),document.getElementById("root"))}},[[158,1,2]]]);
//# sourceMappingURL=main.61015bc6.chunk.js.map